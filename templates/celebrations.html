<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" /><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Celebration Templates</title>
  <link rel="stylesheet" href="../styles.css" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #101010;
      color: #fff;
      height: 100vh;
      overflow: hidden;
      transition: background 0.3s ease;
    }
    body:not(.dark) {
      background: #fdf6ee;
      color: #222;
    }
    body:not(.dark) .template {
      background: #fff8f0;
      color: #222;
    }
    body:not(.dark) .buttons-sidebar button {
      background: #f2e4d7;
      color: #222;
    }

    header {
      padding: 20px;
      text-align: center;
      font-size: 2rem;
      font-weight: 600;
      z-index: 10;
      position: relative;
      color: inherit;
      background: none;
      box-shadow: none;
    }

    .buttons-sidebar {
      position: absolute;
      top: 60px;
      left: 0;
      width: 220px;
      background: #141414;
      padding: 20px;
      height: calc(100vh - 60px);
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 10;
      overflow-y: auto;
    }

    .buttons-sidebar button {
      background: #292929;
      color: #fff;
      padding: 12px 25px;
      font-size: 1.1rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      transition: 0.3s;
      text-align: center;
    }
    .buttons-sidebar button:hover { transform: translateY(-3px); box-shadow: 0 6px 12px rgba(0,0,0,0.3) }
    .buttons-sidebar button:nth-child(1):hover { background: #4f8cff }
    .buttons-sidebar button:nth-child(2):hover { background: #ff6b8b }
    .buttons-sidebar button:nth-child(3):hover { background: #4caf50 }
    .buttons-sidebar button:nth-child(4):hover { background: #ff9800 }

    .template-container {
      margin-left: 220px;
      height: calc(100vh - 130px);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .template {
      display: none;
      position: relative;
      padding: 50px;
      border-radius: 25px;
      background: #222;
      color: #fff;
      text-align: center;
      max-width: 80%;
      box-shadow: 0 12px 40px rgba(0,0,0,0.5);
      animation: fadeIn .6s;
      z-index: 5;
    }

    .template::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle,rgba(255,255,255,0.1) 0%,transparent 70%);
      z-index: -1;
    }

    .active { display: block }
    .template h1, .template h2 {
      margin-bottom: 20px;
      font-size: 2.5rem;
      font-weight: 700;
    }
    .template p {
      margin: 0 auto 1rem;
      font-size: 1.3rem;
      line-height: 1.6;
      max-width: 600px;
    }

    .emoji {
      font-size: 2.5rem;
      animation: bounce .8s infinite alternate;
    }

    #confetti { background: linear-gradient(135deg, #191970, #1e90ff); }
    #confetti h1 { text-shadow: 0 0 10px rgba(255,255,255,0.5); }

    #birthday {
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      color: #5d4037;
    }
    #birthday h2 { animation: float 3s ease-in-out infinite; }

    #achievement {
      background: linear-gradient(to right, #4caf50, #81c784);
    }
    #achievement h2 { text-shadow: 0 2px 4px rgba(0,0,0,0.3); }

    #festival {
      background: linear-gradient(120deg, #2c003e, #660066);
      color: #ffd700;
    }
    #festival h2 {
      text-shadow: 0 0 10px #ffeb3b, 0 0 20px #fbc02d;
      animation: pulse 1.5s infinite alternate;
    }

    @keyframes fadeIn { from {opacity:0;transform:translateY(20px)} to {opacity:1;transform:translateY(0)} }
    @keyframes float { 0%,100% {transform:translateY(0)} 50% {transform:translateY(-15px)} }
    @keyframes bounce { from {transform:translateY(0)} to {transform:translateY(-15px)} }
    @keyframes pulse { from {transform:scale(1)} to {transform:scale(1.05)} }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 1;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #121212;
      color: #fff;
      padding: 10px 20px;
    }

    .navbar .nav-links {
      list-style: none;
      display: flex;
      gap: 20px;
    }

    .navbar .nav-links li a {
      text-decoration: none;
      color: inherit;
      font-weight: 500;
    }

    .navbar .nav-links li a.active {
      text-decoration: underline;
    }

    .navbar .logo {
      height: 40px;
      margin-right: 10px;
    }

    .nav-left {
      display: flex;
      align-items: center;
    }

    button#theme-toggle {
      background: transparent;
      border: none;
      font-size: 1.3rem;
      cursor: pointer;
    }
  </style>
</head>
<body>
<nav class="navbar" id="navbar">
  <div class="nav-left">
    <img src="../images/logo.png" alt="Logo" class="logo" />
    <span class="site-name">Animate It Now</span>
  </div>
  <ul class="nav-links">
    <li><a href="../index.html">Home</a></li>
    <li><a href="../templates.html" class="active">Templates</a></li>
    <li><a href="../contributors.html">Contributors</a></li>
    <li><a href="../contact.html">Contact</a></li>
  </ul>
  <button id="theme-toggle" aria-label="Toggle dark/light mode">üåô</button>
</nav>

<header>‚ú®Celebration Gallery</header>
<!-- Sidebar stays from top now -->
<div class="buttons-sidebar">
  <button onclick="show('confetti')"><span class="emoji">üéä</span> Congrats</button>
  <button onclick="show('birthday')"><span class="emoji">üéÇ</span> Birthday</button>
  <button onclick="show('achievement')"><span class="emoji">üèÜ</span> Achievement</button>
  <button onclick="show('festival')"><span class="emoji">‚ú®</span> Festival</button>
</div>

<div class="template-container">
  <canvas id="canvas"></canvas><canvas id="canvas2"></canvas>
  <div id="confetti" class="template active">
    <h1>Congratulations! <span class="emoji">üéâ</span></h1>
    <p>You've smashed all expectations! May this victory be the first of many more to come.</p>
  </div>
  <div id="birthday" class="template">
    <h2>Happy Birthday <span class="emoji">üéà</span></h2>
    <p>Wishing you endless laughter, love, and joy on your special day and throughout the coming year!</p>
  </div>
  <div id="achievement" class="template">
    <h2>You Did It! <span class="emoji">üèÖ</span></h2>
    <p>Your dedication and hard work have paid off magnificently. Celebrate this well‚Äëearned success!</p>
  </div>
  <div id="festival" class="template">
    <h2>Happy Diwali! <span class="emoji">ü™î</span></h2>
    <p>May the divine light of Diwali spread into your life bringing peace, prosperity, happiness and good health.</p>
  </div>
</div>

<script>
  const c = document.getElementById('canvas'), ctx = c.getContext('2d'),
        c2 = document.getElementById('canvas2'), ctx2 = c2.getContext('2d');
  let style = 'confetti', parts = [], parts2 = [];
  const cfg = {
    confetti: { count: 200, size: [3, 8], speed: [1, 3], colors: ['#00f0ff','#1e90ff','#fff','#ff4f8c','#ffeb3b'], shapes: ['circle','rect','line'] },
    birthday: { count: 150, size: [5, 12], speed: [.5, 2], colors: ['#ff4081','#ff80ab','#ffd54f','#ff9a9e','#fad0c4'], shapes: ['circle','heart'] },
    achievement: { count: 180, size: [4, 10], speed: [1, 4], colors: ['#fff','#a5d6a7','#69f0ae','#4caf50','#81c784'], shapes: ['circle','star','rect'] },
    festival: { count: 250, size: [4, 15], speed: [1, 5], colors: ['#ffd700','#ff5722','#ff9800','#fbc02d','#ffeb3b'], shapes: ['circle','sparkle'] }
  };
  function resize() { [c, c2].forEach(x => { x.width = innerWidth; x.height = innerHeight }); }
  window.addEventListener('resize', resize); resize();

  function gen(s) {
    const o = cfg[s] || cfg.confetti;
    parts = Array(o.count).fill().map(() => ({
      x: Math.random()*c.width, y: Math.random()*-c.height,
      r: Math.random()*(o.size[1]-o.size[0])+o.size[0],
      speed: Math.random()*(o.speed[1]-o.speed[0])+o.speed[0],
      color: o.colors[Math.floor(Math.random()*o.colors.length)],
      shape: o.shapes[Math.floor(Math.random()*o.shapes.length)],
      tilt: Math.random()*10-5,
      tiltAng: 0, tiltInc: Math.random()*.1+.05,
      rot: 0, rotSp: Math.random()*.2-.1, d: Math.random()*50
    }));
    parts2 = Array(o.count/2).fill().map(() => ({
      x: Math.random()*c.width, y: Math.random()*-c.height,
      r: Math.random()*(o.size[1]-o.size[0])+o.size[0],
      speed: Math.random()*(o.speed[1]-o.speed[0])+o.speed[0],
      color: o.colors[Math.floor(Math.random()*o.colors.length)],
      shape: o.shapes[Math.floor(Math.random()*o.shapes.length)],
      dir: Math.random()*Math.PI*2, life: 100+Math.random()*100
    }));
  }

  function drawShape(ctx, p) {
    ctx.save(); ctx.translate(p.x, p.y); ctx.rotate(p.rot); ctx.fillStyle = p.color;
    switch(p.shape){
      case 'circle': ctx.beginPath(); ctx.arc(0, 0, p.r, 0, 2 * Math.PI); ctx.fill(); break;
      case 'rect': ctx.fillRect(-p.r, -p.r, p.r*2, p.r*2); break;
      case 'line': ctx.beginPath(); ctx.moveTo(-p.r,0); ctx.lineTo(p.r,0);
        ctx.lineWidth=2; ctx.strokeStyle=p.color; ctx.stroke(); break;
      case 'heart': ctx.scale(p.r/15,p.r/15); ctx.beginPath();
        ctx.moveTo(0,0); ctx.bezierCurveTo(0,-10,-10,-15,-15,-15);
        ctx.bezierCurveTo(-25,-15,-25,0,-15,5);
        ctx.bezierCurveTo(0,15,15,5,15,-15);
        ctx.bezierCurveTo(15,-25,0,-25,0,-15); ctx.fill(); break;
      case 'star':
        ctx.scale(p.r/15,p.r/15); ctx.beginPath();
        for(let i=0;i<5;i++){ ctx.lineTo(0,15); ctx.lineTo(8,8); ctx.translate(8,8);
          ctx.rotate(2*Math.PI/10); ctx.translate(-8,-8); }
        ctx.fill(); break;
      case 'sparkle':
        ctx.beginPath();
        ctx.moveTo(0,-p.r);ctx.lineTo(0,p.r);
        ctx.moveTo(-p.r,0);ctx.lineTo(p.r,0);
        ctx.moveTo(-p.r/Math.SQRT2,-p.r/Math.SQRT2);
        ctx.lineTo(p.r/Math.SQRT2,p.r/Math.SQRT2);
        ctx.moveTo(-p.r/Math.SQRT2,p.r/Math.SQRT2);
        ctx.lineTo(p.r/Math.SQRT2,-p.r/Math.SQRT2);
        ctx.lineWidth=2;ctx.strokeStyle=p.color;ctx.stroke(); break;
    }
    ctx.restore();
  }

  function upd(){
    ctx.clearRect(0,0,c.width,c.height);
    ctx2.clearRect(0,0,c2.width,c2.height);
    parts.forEach(p=>{
      drawShape(ctx,p);
      p.y+=Math.cos(p.d)*p.speed+1+p.r/2;
      p.x+=Math.sin(p.d)*p.speed;
      p.tiltAng+=p.tiltInc; p.tilt=Math.sin(p.tiltAng)*15;
      p.rot+=p.rotSp;
      if(p.y>c.height){p.y=-10;p.x=Math.random()*c.width;}
    });
    parts2.forEach(p=>{
      drawShape(ctx2,p);
      p.x+=Math.cos(p.dir)*p.speed;
      p.y+=Math.sin(p.dir)*p.speed+1;
      if(--p.life<=0||p.y>c2.height||p.x<0||p.x>c2.width){
        p.x=Math.random()*c2.width;
        p.y=-10;p.life=100+Math.random()*100;
        p.dir=Math.random()*2*Math.PI;
      }
    });
    requestAnimationFrame(upd);
  }

  function show(id){
    document.querySelectorAll('.template').forEach(t=>t.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    style=id;gen(id);
  }

  gen(style); upd();

  const themeToggleBtn = document.getElementById('theme-toggle');
  const body = document.body;
  const navbar = document.getElementById('navbar');
  themeToggleBtn.addEventListener('click', () => {
    body.classList.toggle('dark');
    navbar.classList.toggle('dark');
    themeToggleBtn.textContent = body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
  });
</script>
</body>
</html>
